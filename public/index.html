<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoBridge Map</title>
    
    <link rel="stylesheet" href="styles.css">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Firebase JS -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <div style="flex-grow: 1; display: flex;">
            <button onclick="location.href='index.html'">Home</button>
            <button onclick="location.href='aboutUs.html'">About Us</button>
            <button onclick="location.href='news.html'">News</button>
        </div>
    </nav>

    <h1>EcoBridge - Find Ways to Help the Environment</h1>
    <p>Explore locations where you can donate items or volunteer for environmental projects.</p>

    <!-- Map Container -->
    <div id="map" style="width: 80%; height: 500px; margin: 20px auto; border: 2px solid #2c6e49; border-radius: 10px; position: relative;">
        <!-- Help Icon -->
        <img src="images/helpMarker.png" alt="Help Icon" class="help-icon" style="cursor: pointer; width: 48px; height: 48px; position: absolute; top: 10px; right: 10px; z-index: 1000;">
        
        <!-- Help Popup -->
        <div id="helpPopup" class="help-popup" style="display: none; position: absolute; top: 60px; right: 10px; background: white; border: 1px solid #ddd; padding: 10px; border-radius: 5px; z-index: 1001;">
            <h3>Need Help?</h3>
            <p>Use the map to find locations where you can donate items or volunteer for environmental projects. Click on the markers for more details.</p>
            <button onclick="closeHelpPopup()">Close</button>
        </div>
    </div>

    <!-- Details Container -->
    <div id="details" style="margin-top: 20px; padding: 10px; border: 1px solid #ddd;"></div>
    
    <!-- Help Box -->
    <div class="help-box" style="display: none;">
        <h3>Need Help?</h3>
        <p>Use the map to find locations where you can donate items or volunteer for environmental projects. Click on the markers for more details.</p>
    </div>

    <!-- Sidebar for user information -->
    <div id="sidebar" class="sidebar">
        <button class="close-btn" onclick="toggleSidebar()">Ã—</button>
        <h2>User Profile</h2>
        <p id="sidebarUsername">Username: N/A</p>
        <p id="sidebarEmail">Email: N/A</p>
        <p id="authStatus">Not Authenticated</p>
        <button class="sign-out-btn" onclick="signOut()">Sign Out</button>
    </div>

    <script src="mapScript.js"></script>
</body>
</html>
